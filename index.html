<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>إلى ستيلا ❤️</title>

<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    padding: 0;
    min-height: 100dvh;
    display: flex;
    justify-content: center;
    align-items: center;
    background:
    linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
    url('image.jpg') no-repeat center center;
    background-size: cover;
    background-color: #000;
    overflow: hidden;
    color: white;
    font-family: 'Amiri', serif;
}

/* طبقة القلوب */
#heartsLayer {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.bg-heart {
    position: absolute;
    bottom: -10%;
    color: rgba(255,255,255,0.2);
    pointer-events: none;
    z-index: 2;
    will-change: transform;
    animation: floatUp var(--duration) linear infinite;
}

@keyframes floatUp {
    0% { transform: translateY(0) rotate(0deg); opacity: 0; }
    20% { opacity: .6; }
    80% { opacity: .6; }
    100% { transform: translateY(-120dvh) rotate(360deg); opacity: 0; }
}

/* شاشة البداية */
#welcomeScreen {
    position: fixed;
    inset: 0;
    background: #1a120b;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: opacity 1.5s ease;
}

#fingerprintContainer {
    position: relative;
    width: 110px;
    height: 140px;
    cursor: pointer;
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 25px;
    display: flex;
    justify-content: center;
    align-items: center;
}

#fp-svg {
    width: 75px;
    fill: #ff4e9b;
    filter: drop-shadow(0 0 8px #ff4e9b);
}

.scanner-line {
    position: absolute;
    width: 100%;
    height: 2px;
    background: #00f2ff;
    box-shadow: 0 0 15px #00f2ff;
    animation: scan 2.5s linear infinite;
}

@keyframes scan {
    0%,100% { top: 15%; }
    50% { top: 85%; }
}

/* المربع الزجاجي */
.overlay {
    position: absolute;
    z-index: 10;
    width: 340px;
    height: 460px;
    padding: 35px;
    box-sizing: border-box;
    border-radius: 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    transition: all .8s ease;
    opacity: 0;
    transform: scale(.95);
}

.glass-box {
    opacity: 1;
    transform: scale(1);
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255,255,255,0.08);
}

.poem, .question-area, .message {
    text-align: center;
    width: 100%;
    display: none;
    opacity: 0;
    transition: opacity 1s ease-in-out;
}

.poem { font-size: 26px; line-height: 1.8; }
.message { font-size: 20px; line-height: 1.9; white-space: pre-line; }

.question-area h2 {
    font-size: 28px;
    margin-bottom: 25px;
}

.btn-container {
    display: flex;
    justify-content: center;
    gap: 20px;
}

button {
    padding: 12px 30px;
    font-size: 18px;
    border-radius: 50px;
    cursor: pointer;
    border: none;
}

#yesBtn { background: #fff; color: #000; }
#noBtn { background: rgba(255,78,155,0.7); color: white; }

</style>
</head>
<body>

<div id="heartsLayer"></div>

<div id="welcomeScreen">
    <div id="fingerprintContainer">
        <div class="scanner-line"></div>
        <svg id="fp-svg" viewBox="0 0 24 24">
            <path d="M12.01 21c-4.41 0-8-3.59-8-8 0-.28.22-.5.5-.5s.5.22.5.5c0 3.86 3.14 7 7 7s7-3.14 7-7c0-2.5-.54-4.82-1.51-6.91-.12-.25-.01-.55.24-.67.25-.12.55-.01.67.24C19.45 8.04 20.01 10.45 20.01 13c0 4.41-3.59 8-8 8z"/>
        </svg>
    </div>
    <p id="status-text" style="margin-top:20px;color:#8a7a6e;">
        بصمة ستيلا مطلوبة
    </p>
</div>

<audio id="mySong" loop>
<source src="song.mp3" type="audio/mpeg">
</audio>

<div class="overlay" id="mainOverlay">

<div class="poem" id="poem">
وَلَعَلّنَا مَن بَعدِ بُعدٍ نَلتَقِي<br>
وَيَطيَبُ قَلبي عِندَمَا أَلْقَاكِ<br>
فَمَا رَأَيتُ أَعزّ مِنكِ في قَلبي<br>
وَمَا رَغِبتُ في أَحَدٍ سِوَاكِ
</div>

<div class="question-area" id="questionArea">
<h2>ستيلا تحبيني؟</h2>
<div class="btn-container">
<button id="yesBtn">أكييييد</button>
<button id="noBtn">لا</button>
</div>
</div>

<div class="message" id="finalMessage">
وأنا أحبك أكثر يا غبيه.. أحبكككك

يمكن ما أعرف أعبر بالكلام دايم،
بس حبيت أصمم لكِ هالمكان الصغير
عشان أقولك إنك أغلى شي صار لي..

شكراً لأنك ستيلا ✨
</div>

</div>

<script>
function createHeart(){
    const heart = document.createElement('div');
    heart.className = 'bg-heart';
    heart.innerHTML = '❤';
    heart.style.left = Math.random()*100 + 'vw';
    const duration = Math.random()*4 + 9;
    heart.style.setProperty('--duration', duration+'s');
    heart.style.fontSize = Math.random()*18 + 16 + 'px';
    document.getElementById('heartsLayer').appendChild(heart);
    setTimeout(()=>heart.remove(), duration*1000);
}
setInterval(createHeart, 600);

const fp = document.getElementById('fingerprintContainer');
const welcome = document.getElementById('welcomeScreen');
const overlay = document.getElementById('mainOverlay');

fp.addEventListener('click',()=>{
    document.getElementById('fp-svg').style.fill="#4eff9b";
    document.getElementById('status-text').innerText="أهلاً ستيلا، كنت بانتظارك";
    setTimeout(()=>{
        document.getElementById('mySong').play();
        welcome.style.opacity='0';
        setTimeout(()=>{
            welcome.style.display='none';
            startFlow();
        },1500);
    },1500);
});

function showElement(id){
    const el=document.getElementById(id);
    el.style.display='block';
    setTimeout(()=>el.style.opacity='1',50);
}

function hideElement(id){
    const el=document.getElementById(id);
    el.style.opacity='0';
    setTimeout(()=>el.style.display='none',800);
}

function startFlow(){
    overlay.classList.add('glass-box');
    showElement('poem');
    setTimeout(()=>{
        hideElement('poem');
        overlay.classList.remove('glass-box');
        setTimeout(()=>showElement('questionArea'),900);
    },6000);
}

document.getElementById('yesBtn').addEventListener('click',()=>{
    hideElement('questionArea');
    setTimeout(()=>{
        overlay.classList.add('glass-box');
        showElement('finalMessage');
    },900);
});
</script>

</body>
</html>
